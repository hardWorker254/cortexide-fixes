/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

:root {
	/* Core surfaces */
	--cortex-surface-0: #010101;
	--cortex-surface-1: #040404;
	--cortex-surface-1-alt: #060606;
	--cortex-surface-2: #080808;
	--cortex-surface-2-alt: #0d0d0d;
	--cortex-surface-3: #101010;
	--cortex-surface-4: #151515;
	--cortex-overlay: rgba(0, 0, 0, 0.82);

	/* Text */
	--cortex-text-strong: #f5f5f7;
	--cortex-text-base: #e2e3f0;
	--cortex-text-muted: #a5a7c4;
	--cortex-text-subtle: #6d708d;

	/* Accents & roles */
	--cortex-brand: #7b5cff;
	--cortex-brand-soft: color-mix(in srgb, var(--cortex-brand) 28%, transparent);
	--cortex-accent: var(--cortex-brand);
	--cortex-success: #38b284;
	--cortex-warning: #f4c95d;
	--cortex-danger: #ff5c7a;

	/* Borders + outlines */
	--cortex-border-weak: #161616;
	--cortex-border-strong: #1f1f1f;
	--cortex-ring-color: var(--cortex-brand);

	/* Typography */
	--cortex-font-title: 14px;
	--cortex-font-subtitle: 13px;
	--cortex-font-body: 12px;
	--cortex-font-label: 11px;
	--cortex-font-micro: 10px;

	/* Spacing */
	--cortex-space-2xs: 2px;
	--cortex-space-xs: 4px;
	--cortex-space-sm: 8px;
	--cortex-space-md: 12px;
	--cortex-space-lg: 16px;
	--cortex-space-xl: 20px;
	--cortex-space-2xl: 24px;

	/* Radii */
	--cortex-radius-xs: 3px;
	--cortex-radius-sm: 4px;
	--cortex-radius-md: 8px;
	--cortex-radius-lg: 12px;

	/* Motion + depth */
	--cortex-transition-fast: 140ms ease;
	--cortex-transition-base: 200ms ease;
	--cortex-transition-slow: 280ms ease;
	--cortex-shadow-soft: 0 30px 80px rgba(0, 0, 0, 0.5);
	--cortex-shadow-hairline: inset 0 1px 0 rgba(255, 255, 255, 0.04);

	--cortex-logo-url: url('../../../../browser/media/code-icon.svg');

	/* Legacy aliases (avoid churn across existing components) */
	--void-bg-1: var(--cortex-surface-1);
	--void-bg-1-alt: var(--cortex-surface-1-alt);
	--void-bg-2: var(--cortex-surface-2);
	--void-bg-2-alt: var(--cortex-surface-2-alt);
	--void-bg-2-hover: color-mix(in srgb, var(--cortex-surface-2-alt) 85%, #1d2238 15%);
	--void-bg-3: var(--cortex-surface-3);

	--void-fg-0: var(--cortex-text-strong);
	--void-fg-1: var(--cortex-text-base);
	--void-fg-2: var(--cortex-text-muted);
	--void-fg-3: var(--cortex-text-subtle);
	--void-fg-4: #4f5269;

	--void-warning: var(--cortex-warning);

	--void-border-1: var(--cortex-border-strong);
	--void-border-2: #24273a;
	--void-border-3: var(--cortex-border-weak);
	--void-border-4: #353a55;

	--void-ring-color: var(--cortex-ring-color);
	--void-link-color: var(--cortex-accent);

	--void-space-1: var(--cortex-space-2xs);
	--void-space-2: var(--cortex-space-xs);
	--void-space-3: 6px;
	--void-space-4: var(--cortex-space-sm);
	--void-space-5: var(--cortex-space-md);
	--void-space-6: var(--cortex-space-lg);
	--void-space-7: var(--cortex-space-xl);
	--void-space-8: var(--cortex-space-2xl);

	--void-radius-sm: var(--cortex-radius-sm);
	--void-radius-md: var(--cortex-radius-md);
	--void-radius-lg: var(--cortex-radius-lg);
	--void-radius-xl: calc(var(--cortex-radius-lg) + 4px);

	--void-transition-fast: var(--cortex-transition-fast);
	--void-transition-base: var(--cortex-transition-base);
	--void-transition-slow: var(--cortex-transition-slow);
}

/* ----------------------------------------------------------------------------------------
 * Workbench chrome & layout scaffolding
 * Do NOT override body/part background and color or --vscode-* so the user's selected
 * theme (e.g. Solarized Dark, Light+) applies. CortexIDE variables (--cortex-*, --void-*)
 * remain in :root for use inside CortexIDE-specific UI (e.g. .void-scope, chat panel).
 * ------------------------------------------------------------------------------------- */
body.monaco-workbench,
.monaco-workbench {
	font-size: var(--cortex-font-body);
}

.monaco-workbench .part.titlebar,
.monaco-workbench .part.statusbar {
	backdrop-filter: blur(16px);
	box-shadow: var(--cortex-shadow-hairline);
}

/* On Windows, disable backdrop-filter on titlebar to avoid stacking context issues
 * that prevent menubar dropdowns from appearing when appended to document.body */
.monaco-workbench.windows .part.titlebar {
	backdrop-filter: none;
}

.monaco-workbench .part.sidebar > .content .pane-header,
.monaco-workbench .part.auxiliarybar > .content .pane-header {
	padding: var(--cortex-space-sm) var(--cortex-space-md) !important;
	min-height: 32px;
}

.monaco-workbench .part.sidebar > .content .pane-body,
.monaco-workbench .part.auxiliarybar > .content .pane-body {
	padding-bottom: var(--cortex-space-sm);
}

.monaco-workbench .split-view-view {
	background: transparent;
}

.monaco-workbench .part.editor>.content .editor-group-container {
	border-color: color-mix(in srgb, var(--cortex-border-strong) 65%, transparent);
}

.monaco-workbench .part.statusbar .statusbar-item {
	font-size: var(--cortex-font-label);
	font-weight: 500;
	letter-spacing: 0.01em;
}

.monaco-editor .void-sweepIdxBG {
	background-color: var(--vscode-void-sweepIdxBG);
}

.void-sweepBG {
	background-color: var(--vscode-void-sweepBG);
}

.void-highlightBG {
	background-color: var(--vscode-void-highlightBG);
}

.void-greenBG {
	background-color: var(--vscode-void-greenBG);
}

.void-redBG {
	background-color: var(--vscode-void-redBG);
}

.void-diff-disabled {
	opacity: 0.5;
}


/* Renamed from void-watermark-button to void-openfolder-button */
.void-openfolder-button {
	padding: 8px 20px;
	background-color: var(--cortex-surface-3);
	color: var(--cortex-text-base);
	border: 1px solid var(--cortex-border-strong);
	border-radius: 4px;
	outline: none !important;
	box-shadow: none !important;
	cursor: pointer;
	transition: background-color var(--cortex-transition-fast);
}
.void-openfolder-button:hover,
.void-openfolder-button:active {
	background-color: var(--cortex-surface-4);
}

/* Added for Open SSH button with slightly darker color */
.void-openssh-button {
	padding: 8px 20px;
	background-color: var(--cortex-surface-2);
	color: var(--cortex-text-base);
	border: 1px solid var(--cortex-border-strong);
	border-radius: 4px;
	outline: none !important;
	box-shadow: none !important;
	cursor: pointer;
	transition: background-color var(--cortex-transition-fast);
}
.void-openssh-button:hover,
.void-openssh-button:active {
	background-color: var(--cortex-surface-3);
}


.void-settings-watermark-button {
	margin: 8px 0;
	padding: 8px 20px;
	background-color: var(--cortex-surface-2);
	color: var(--cortex-text-base);
	border: 1px solid var(--cortex-border-strong);
	border-radius: 4px;
	outline: none !important;
	box-shadow: none !important;
	cursor: pointer;
	transition: background-color var(--cortex-transition-fast);
}

.void-settings-watermark-button:hover,
.void-settings-watermark-button:active {
	background-color: var(--cortex-surface-3);
}

.void-link {
	color: var(--cortex-text-base);
	cursor: pointer;
	transition: opacity var(--cortex-transition-fast);
}

.void-link:hover {
	opacity: 0.8;
}

/* ----------------------------------------------------------------------------------------
 * Explorer / Search / Extensions surfaces
 * ------------------------------------------------------------------------------------- */
/* Sidebar, extensions, search: use user theme (no cortex overrides) */

/* ----------------------------------------------------------------------------------------
 * Chat / message input experience - use user theme so chat panel respects selected theme
 * ------------------------------------------------------------------------------------- */
.monaco-workbench .interactive-session .chat-input-container {
	background-color: var(--vscode-input-background) !important;
	border: 1px solid var(--vscode-input-border) !important;
	box-shadow: none !important;
}

.monaco-workbench .interactive-session .chat-input-container:focus-within {
	border-color: var(--vscode-focusBorder) !important;
	box-shadow: 0 0 0 1px var(--vscode-focusBorder) inset;
}

.monaco-workbench .interactive-session .chat-input-container .chat-editor-container .monaco-editor,
.monaco-workbench .interactive-session .chat-input-container .chat-editor-container .monaco-editor .monaco-editor-background,
.monaco-workbench .interactive-session .chat-input-container .chat-editor-container .monaco-editor .margin,
.monaco-workbench .interactive-session .chat-input-container .chat-editor-container .monaco-editor .inputarea.ime-input {
	background-color: var(--vscode-input-background) !important;
	color: var(--vscode-input-foreground) !important;
}

.monaco-workbench .interactive-session .chat-input-container .chat-editor-container .monaco-editor .cursor {
	border-color: var(--vscode-input-foreground) !important;
}

.monaco-workbench .interactive-session .chat-input-toolbars,
.monaco-workbench .interactive-session .chat-input-toolbars .monaco-toolbar .action-item,
.monaco-workbench .interactive-session .chat-modelPicker-item {
	background-color: var(--vscode-sideBar-background) !important;
	color: var(--vscode-sideBar-foreground) !important;
	border-color: var(--vscode-sideBar-border) !important;
}

/* Chat panel (auxiliary bar): override void/cortex variables so React chat UI uses theme */
.monaco-workbench .part.auxiliarybar > .content {
	--void-bg-1: var(--vscode-sideBar-background);
	--void-bg-1-alt: var(--vscode-sideBar-background);
	--void-bg-2: var(--vscode-sideBar-background);
	--void-bg-2-alt: var(--vscode-sideBar-background);
	--void-bg-2-hover: var(--vscode-list-hoverBackground, var(--vscode-sideBar-background));
	--void-bg-3: var(--vscode-sideBar-background);
	--void-fg-0: var(--vscode-sideBar-foreground);
	--void-fg-1: var(--vscode-sideBar-foreground);
	--void-fg-2: var(--vscode-sideBar-foreground);
	--void-fg-3: var(--vscode-descriptionForeground, var(--vscode-sideBar-foreground));
	--void-fg-4: var(--vscode-descriptionForeground, var(--vscode-sideBar-foreground));
	--void-border-1: var(--vscode-sideBar-border, transparent);
	--void-border-2: var(--vscode-sideBar-border, transparent);
	--void-border-3: var(--vscode-sideBar-border, transparent);
	--void-border-4: var(--vscode-sideBar-border, transparent);
}

/* ----------------------------------------------------------------------------------------
 * Settings experience: use user theme (no cortex background/color overrides)
 * ------------------------------------------------------------------------------------- */

/* styles for all containers used by void */
.void-scope {
	--scrollbar-vertical-width: 8px;
	--scrollbar-horizontal-height: 6px;
}

/* Target both void-scope and all its descendants with scrollbars */
.void-scope,
.void-scope * {
	scrollbar-width: thin !important;
	scrollbar-color: var(--void-bg-1) var(--void-bg-3) !important;
	/* For Firefox */
}

.void-scope::-webkit-scrollbar,
.void-scope *::-webkit-scrollbar {
	width: var(--scrollbar-vertical-width) !important;
	height: var(--scrollbar-horizontal-height) !important;
	background-color: var(--void-bg-3) !important;
}

.void-scope::-webkit-scrollbar-thumb,
.void-scope *::-webkit-scrollbar-thumb {
	background-color: var(--void-bg-1) !important;
	border-radius: 4px !important;
	border: none !important;
	-webkit-box-shadow: none !important;
	box-shadow: none !important;
}

.void-scope::-webkit-scrollbar-thumb:hover,
.void-scope *::-webkit-scrollbar-thumb:hover {
	background-color: var(--void-bg-1) !important;
	filter: brightness(1.1) !important;
}

.void-scope::-webkit-scrollbar-thumb:active,
.void-scope *::-webkit-scrollbar-thumb:active {
	background-color: var(--void-bg-1) !important;
	filter: brightness(1.2) !important;
}

.void-scope::-webkit-scrollbar-track,
.void-scope *::-webkit-scrollbar-track {
	background-color: var(--void-bg-3) !important;
	border: none !important;
}

.void-scope::-webkit-scrollbar-corner,
.void-scope *::-webkit-scrollbar-corner {
	background-color: var(--void-bg-3) !important;
}

/* Add void-scrollable-element styles to match */
.void-scrollable-element {
	background-color: var(--vscode-editor-background);
	--scrollbar-vertical-width: 14px;
	--scrollbar-horizontal-height: 6px;
	overflow: auto;
	/* Ensure scrollbars are shown when needed */
}

.void-scrollable-element,
.void-scrollable-element * {
	scrollbar-width: thin !important;
	/* For Firefox */
	scrollbar-color: var(--void-bg-1) var(--void-bg-3) !important;
	/* For Firefox */
}

.void-scrollable-element::-webkit-scrollbar,
.void-scrollable-element *::-webkit-scrollbar {
	width: var(--scrollbar-vertical-width) !important;
	height: var(--scrollbar-horizontal-height) !important;
	background-color: var(--void-bg-3) !important;
}

.void-scrollable-element::-webkit-scrollbar-thumb,
.void-scrollable-element *::-webkit-scrollbar-thumb {
	background-color: var(--void-bg-1) !important;
	border-radius: 4px !important;
	border: none !important;
	-webkit-box-shadow: none !important;
	box-shadow: none !important;
}

.void-scrollable-element::-webkit-scrollbar-thumb:hover,
.void-scrollable-element *::-webkit-scrollbar-thumb:hover {
	background-color: var(--void-bg-1) !important;
	filter: brightness(1.1) !important;
}

.void-scrollable-element::-webkit-scrollbar-thumb:active,
.void-scrollable-element *::-webkit-scrollbar-thumb:active {
	background-color: var(--void-bg-1) !important;
	filter: brightness(1.2) !important;
}

.void-scrollable-element::-webkit-scrollbar-track,
.void-scrollable-element *::-webkit-scrollbar-track {
	background-color: var(--void-bg-3) !important;
	border: none !important;
}

.void-scrollable-element::-webkit-scrollbar-corner,
.void-scrollable-element *::-webkit-scrollbar-corner {
	background-color: var(--void-bg-3) !important;
}

/* CortexIDE logo in sidebar title - target the title label for the void view container */
.monaco-workbench .auxiliarybar-part > .content > .composite#workbench.view.void ~ .composite.title > .title-label h2::before,
.monaco-workbench .auxiliarybar-part > .content > .composite.title > .title-label h2::before {
	content: '';
	display: inline-block;
	width: 16px;
	height: 16px;
	margin-right: 8px;
	vertical-align: middle;
	background-image: var(--cortex-logo-url);
	background-size: contain;
	background-repeat: no-repeat;
	background-position: center;
	border-radius: 50%;
	-webkit-mask: none;
	mask: none;
}

.monaco-workbench .editor-group-watermark .void-void-icon {
	border-radius: 50% !important;
	background-color: transparent !important;
	mask: none !important;
	-webkit-mask: none !important;
}

/* ----------------------------------------------------------------------------------------
 * Command palette / quick input
 * ------------------------------------------------------------------------------------- */
.monaco-workbench .quick-input-widget {
	background: color-mix(in srgb, var(--cortex-surface-2) 92%, #020208 8%) !important;
	color: var(--cortex-text-base) !important;
	border-radius: 24px !important;
	border: 1px solid var(--cortex-border-strong) !important;
	box-shadow: var(--cortex-shadow-soft), inset 0 0 0 1px rgba(255, 255, 255, 0.02) !important;
	backdrop-filter: blur(22px);
	/* Ensure transform doesn't interfere with JavaScript positioning */
	transform: none !important;
}

.monaco-workbench .quick-input-widget .quick-input-header,
.monaco-workbench .quick-input-widget .quick-input-and-message,
.monaco-workbench .quick-input-widget .quick-input-check-all {
	background: transparent !important;
	border-bottom: 1px solid color-mix(in srgb, var(--cortex-border-weak) 80%, transparent) !important;
}

.monaco-workbench .quick-input-widget .quick-input-header .monaco-inputbox,
.monaco-workbench .quick-input-widget .monaco-inputbox {
	background: color-mix(in srgb, var(--cortex-surface-1) 90%, #050505 10%) !important;
	border: 1px solid var(--cortex-border-weak) !important;
	border-radius: 16px !important;
}

.monaco-workbench .quick-input-widget .monaco-inputbox input {
	background: transparent !important;
	color: var(--cortex-text-base) !important;
}

.monaco-workbench .quick-input-widget .quick-input-list {
	background: transparent !important;
	line-height: 22px !important;
}

.monaco-workbench .quick-input-widget .quick-input-list .quick-input-list-entry {
	background: transparent !important;
	color: var(--cortex-text-muted) !important;
	border-radius: 14px !important;
	border: 1px solid transparent !important;
	padding: 6px 12px !important;
	height: 32px !important;
	min-height: 32px !important;
	max-height: 32px !important;
	line-height: 20px !important;
	box-sizing: border-box !important;
}

.monaco-workbench .quick-input-widget .quick-input-list .quick-input-list-entry .quick-input-list-label {
	color: inherit !important;
	line-height: 22px !important;
	display: flex !important;
	align-items: center !important;
}

.monaco-workbench .quick-input-widget .quick-input-list .monaco-list-row {
	height: 32px !important;
	min-height: 32px !important;
	max-height: 32px !important;
	box-sizing: border-box !important;
}

.monaco-workbench .quick-input-widget .quick-input-list .quick-input-list-icon {
	height: 20px !important;
	display: flex !important;
	align-items: center !important;
}

.monaco-workbench .quick-input-widget .quick-input-list .quick-input-list-rows {
	line-height: 22px !important;
	height: 100% !important;
	display: flex !important;
	align-items: center !important;
}

.monaco-workbench .quick-input-widget .quick-input-list .quick-input-list-rows > .quick-input-list-row {
	line-height: 20px !important;
	min-height: 20px !important;
	height: auto !important;
}

.monaco-workbench .quick-input-widget .quick-input-list .quick-input-list-entry:hover,
.monaco-workbench .quick-input-widget .quick-input-list .quick-input-list-entry.focused,
.monaco-workbench .quick-input-widget .quick-input-list .quick-input-list-entry.selected {
	background: color-mix(in srgb, var(--cortex-surface-1-alt) 65%, #090c18 35%) !important;
	border-color: var(--cortex-border-strong) !important;
	color: var(--cortex-text-strong) !important;
	box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.03);
	height: 32px !important;
	min-height: 32px !important;
	max-height: 32px !important;
	padding: 6px 12px !important;
}

.monaco-workbench .quick-input-widget .quick-input-message {
	color: var(--cortex-text-subtle) !important;
}

.monaco-workbench .quick-input-widget .quick-input-action-bar .action-label {
	color: var(--cortex-text-muted) !important;
}

/* Settings / preferences: use user theme (no void/cortex background overrides) */
